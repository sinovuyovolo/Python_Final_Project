<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iKhuselo - Digital Shield</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Custom Styles -->
    <link rel="stylesheet" href="styles.css">
</head>

<body class="bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200 min-h-screen flex items-center justify-center p-4">

    <!-- Calculator Lock Screen -->
    <div id="calculator-screen" class="w-full max-w-sm rounded-3xl overflow-hidden shadow-2xl bg-gray-200 dark:bg-gray-800 p-6 flex flex-col items-center">
        <h1 class="text-3xl font-bold text-center mb-6">iKhuselo</h1>
        <div class="calculator w-full rounded-2xl p-4 bg-gray-300 dark:bg-gray-700 shadow-inner">
            <div id="display" class="bg-gray-400 dark:bg-gray-900 text-right p-4 rounded-xl mb-4 text-3xl font-mono overflow-x-auto whitespace-nowrap">0</div>
            <div class="grid grid-cols-4 gap-3">
                <button class="btn col-span-2 text-2xl font-semibold bg-red-500 hover:bg-red-600 active:bg-red-700 text-white p-4 rounded-xl shadow-md" data-value="C">C</button>
                <button class="btn text-2xl font-semibold bg-gray-400 hover:bg-gray-500 active:bg-gray-600 dark:bg-gray-600 dark:hover:bg-gray-700 dark:active:bg-gray-800 p-4 rounded-xl shadow-md" data-value="/">/</button>
                <button class="btn text-2xl font-semibold bg-gray-400 hover:bg-gray-500 active:bg-gray-600 dark:bg-gray-600 dark:hover:bg-gray-700 dark:active:bg-gray-800 p-4 rounded-xl shadow-md" data-value="*">*</button>
                <button class="btn text-2xl font-semibold bg-gray-500 hover:bg-gray-600 active:bg-gray-700 dark:bg-gray-500 dark:hover:bg-gray-600 dark:active:bg-gray-700 p-4 rounded-xl shadow-md" data-value="7">7</button>
                <button class="btn text-2xl font-semibold bg-gray-500 hover:bg-gray-600 active:bg-gray-700 dark:bg-gray-500 dark:hover:bg-gray-600 dark:active:bg-gray-700 p-4 rounded-xl shadow-md" data-value="8">8</button>
                <button class="btn text-2xl font-semibold bg-gray-500 hover:bg-gray-600 active:bg-gray-700 dark:bg-gray-500 dark:hover:bg-gray-600 dark:active:bg-gray-700 p-4 rounded-xl shadow-md" data-value="9">9</button>
                <button class="btn text-2xl font-semibold bg-gray-400 hover:bg-gray-500 active:bg-gray-600 dark:bg-gray-600 dark:hover:bg-gray-700 dark:active:bg-gray-800 p-4 rounded-xl shadow-md" data-value="-">-</button>
                <button class="btn text-2xl font-semibold bg-gray-500 hover:bg-gray-600 active:bg-gray-700 dark:bg-gray-500 dark:hover:bg-gray-600 dark:active:bg-gray-700 p-4 rounded-xl shadow-md" data-value="4">4</button>
                <button class="btn text-2xl font-semibold bg-gray-500 hover:bg-gray-600 active:bg-gray-700 dark:bg-gray-500 dark:hover:bg-gray-600 dark:active:bg-gray-700 p-4 rounded-xl shadow-md" data-value="5">5</button>
                <button class="btn text-2xl font-semibold bg-gray-500 hover:bg-gray-600 active:bg-gray-700 dark:bg-gray-500 dark:hover:bg-gray-600 dark:active:bg-gray-700 p-4 rounded-xl shadow-md" data-value="6">6</button>
                <button class="btn text-2xl font-semibold bg-gray-400 hover:bg-gray-500 active:bg-gray-600 dark:bg-gray-600 dark:hover:bg-gray-700 dark:active:bg-gray-800 p-4 rounded-xl shadow-md" data-value="+">+</button>
                <button class="btn text-2xl font-semibold bg-gray-500 hover:bg-gray-600 active:bg-gray-700 dark:bg-gray-500 dark:hover:bg-gray-600 dark:active:bg-gray-700 p-4 rounded-xl shadow-md" data-value="1">1</button>
                <button class="btn text-2xl font-semibold bg-gray-500 hover:bg-gray-600 active:bg-gray-700 dark:bg-gray-500 dark:hover:bg-gray-600 dark:active:bg-gray-700 p-4 rounded-xl shadow-md" data-value="2">2</button>
                <button class="btn text-2xl font-semibold bg-gray-500 hover:bg-gray-600 active:bg-gray-700 dark:bg-gray-500 dark:hover:bg-gray-600 dark:active:bg-gray-700 p-4 rounded-xl shadow-md" data-value="3">3</button>
                <button class="btn row-span-2 text-2xl font-semibold bg-emerald-500 hover:bg-emerald-600 active:bg-emerald-700 text-white p-4 rounded-xl shadow-md" data-value="=">=</button>
                <button class="btn text-2xl font-semibold bg-gray-500 hover:bg-gray-600 active:bg-gray-700 dark:bg-gray-500 dark:hover:bg-gray-600 dark:active:bg-gray-700 p-4 rounded-xl shadow-md" data-value="0">0</button>
                <button class="btn col-span-2 text-2xl font-semibold bg-gray-400 hover:bg-gray-500 active:bg-gray-600 dark:bg-gray-600 dark:hover:bg-gray-700 dark:active:bg-gray-800 p-4 rounded-xl shadow-md" data-value=".">.</button>
            </div>
        </div>
        <p id="auth-status" class="mt-4 text-sm text-red-500"></p>
    </div>

    <!-- Main Application UI -->
    <div id="main-app" class="hidden w-full max-w-4xl min-h-screen bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-6 md:p-10 flex flex-col">
        <!-- Top Navigation Bar -->
        <nav class="flex justify-between items-center mb-6">
            <div class="flex items-center space-x-4">
                <!-- SVG Icon for SA Flag placeholder -->
                <img src="https://placehold.co/40x24/005663/FFFFFF?text=SA" onerror="this.src='https://placehold.co/40x24/005663/FFFFFF?text=SA';" alt="South African Flag" class="rounded-md saf-flag shadow-md">
                <div class="relative inline-block text-left">
                    <select id="language-selector" class="language-selector p-2 rounded-lg bg-gray-200 dark:bg-gray-700 cursor-pointer">
                        <option value="en">English</option>
                        <option value="af">Afrikaans</option>
                        <option value="zu">isiZulu</option>
                        <option value="xh">isiXhosa</option>
                        <option value="ss">siSwati</option>
                        <option value="nr">isiNdebele</option>
                        <option value="st">Sesotho</option>
                        <option value="tn">Setswana</option>
                        <option value="ve">Tshivenda</option>
                        <option value="ts">Xitsonga</option>
                        <option value="nso">Sepedi</option>
                    </select>
                </div>
            </div>
            <button id="theme-toggle" class="theme-toggle p-2 rounded-full bg-gray-200 dark:bg-gray-700 shadow-md">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-800 dark:text-gray-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                </svg>
            </button>
        </nav>

        <!-- Main Content Area -->
        <div class="flex-grow flex flex-col md:flex-row space-y-6 md:space-y-0 md:space-x-6">
            <!-- Sidebar Navigation -->
            <aside class="w-full md:w-56 p-4 bg-gray-100 dark:bg-gray-700 rounded-xl shadow-inner flex flex-col justify-start space-y-4 md:space-y-6">
                <h2 class="text-xl font-semibold mb-4 text-center hidden md:block">Menu</h2>
                <div class="flex md:flex-col justify-between items-center md:items-start overflow-x-auto space-x-2 md:space-x-0 md:space-y-2">
                    <!-- Navigation Buttons (Using Placeholder Icons) -->
                    <button id="nav-dashboard" class="flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="9" rx="1" /><rect x="14" y="3" width="7" height="5" rx="1" /><rect x="14" y="12" width="7" height="9" rx="1" /><rect x="3" y="16" width="7" height="5" rx="1" /></svg>
                        <span>Dashboard</span>
                    </button>
                    <button id="nav-contacts" class="flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 19.22H5C4.44772 19.22 4 18.7723 4 18.22V5C4 4.44772 4.44772 4 5 4H19C19.5523 4 20 4.44772 20 5V18.22M17 19.22C17 17.0091 19 15.22 19 15.22L17.5 12.5M17 19.22C17 17.0091 15 15.22 15 15.22L16.5 12.5" /><path d="M12 12V21M12 12H12.01" /></svg>
                        <span>Contacts</span>
                    </button>
                    <button id="nav-date" class="flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" /><path d="M16 2L16 6M8 2L8 6M3 10L21 10" /></svg>
                        <span>Date Safety</span>
                    </button>
                    <button id="nav-journal" class="flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L12 22M12 22L15 19M12 22L9 19" /><path d="M5 5L19 5L19 19L5 19L5 5Z" /></svg>
                        <span>Journal</span>
                    </button>
                    <button id="nav-sasl" class="flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 1L12 23M12 23L15 20M12 23L9 20" /><circle cx="12" cy="12" r="10" /></svg>
                        <span>SASL & Emojis</span>
                    </button>
                    <button id="nav-profile" class="flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21V19C20 16.7909 18.2091 15 16 15H8C5.79086 15 4 16.7909 4 19V21M12 12C14.2091 12 16 10.2091 16 8C16 5.79086 14.2091 4 12 4C9.79086 4 8 5.79086 8 8C8 10.2091 9.79086 12 12 12Z" /></svg>
                        <span>My Info</span>
                    </button>
                </div>
            </aside>

            <!-- Main Dashboard Content -->
            <main id="dashboard-content" class="flex-grow bg-gray-100 dark:bg-gray-700 rounded-xl shadow-inner p-6 flex flex-col items-center justify-center text-center space-y-8">
                <div id="main-dashboard" class="dashboard active flex flex-col items-center justify-center w-full space-y-6">
                    <h1 id="greeting" class="text-3xl md:text-5xl font-bold">Hello!</h1>
                    <div id="auth-info" class="text-sm font-mono p-2 rounded-lg bg-gray-200 dark:bg-gray-600 overflow-x-auto"></div>
                    <p id="wellness-prompt" class="text-xl md:text-2xl mt-4">How are you feeling today?</p>
                    <div class="flex space-x-4 mt-2">
                        <button class="text-4xl hover:scale-110 transition-transform">😊</button>
                        <button class="text-4xl hover:scale-110 transition-transform">😐</button>
                        <button class="text-4xl hover:scale-110 transition-transform">😰</button>
                    </div>
                    <button id="sos-button" class="sos-button mt-8 px-12 py-6 text-3xl font-bold rounded-full text-white bg-red-600 hover:bg-red-700 shadow-xl transition-transform transform-gpu">
                        SOS
                    </button>
                    <p class="text-sm text-center text-gray-500 mt-4">This is a demo version. No data is saved.</p>
                </div>

                <!-- Chatbot Interface -->
                <div id="chatbot-screen" class="hidden dashboard w-full flex-grow bg-gray-200 dark:bg-gray-700 rounded-lg p-4 flex flex-col space-y-4">
                    <div id="chat-messages" class="flex-grow overflow-y-auto space-y-4"></div>
                    <div class="flex items-center space-x-2">
                        <input id="chat-input" type="text" class="flex-grow p-3 rounded-xl bg-gray-100 dark:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-emerald-500" placeholder="Type a message...">
                        <button id="send-btn" class="p-3 bg-emerald-500 text-white rounded-xl hover:bg-emerald-600 transition-colors">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12L19 12M19 12L12 5M19 12L12 19" /></svg>
                        </button>
                    </div>
                </div>

                <!-- Other dashboards (initially hidden) -->
                <div id="contacts-dashboard" class="hidden dashboard w-full flex-grow p-4">
                    <h2 class="text-2xl font-bold mb-4">Emergency Contacts</h2>
                    <p class="text-sm mb-4">You can always call these numbers directly. Your safety comes first.</p>
                    <ul class="space-y-4 text-left w-full">
                        <li class="p-4 bg-gray-200 dark:bg-gray-600 rounded-lg flex justify-between items-center shadow-md">
                            <span>SAPS (Police)</span><span class="font-bold">10111</span>
                            <a href="tel:10111" class="call-btn px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors">Call</a>
                        </li>
                        <li class="p-4 bg-gray-200 dark:bg-gray-600 rounded-lg flex justify-between items-center shadow-md">
                            <span>GBV Command Centre</span><span class="font-bold">0800 150 150</span>
                            <a href="tel:0800150150" class="call-btn px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors">Call</a>
                        </li>
                        <li class="p-4 bg-gray-200 dark:bg-gray-600 rounded-lg flex justify-between items-center shadow-md">
                            <span>Ambulance Service</span><span class="font-bold">10177</span>
                            <a href="tel:10177" class="call-btn px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors">Call</a>
                        </li>
                        <li class="p-4 bg-gray-200 dark:bg-gray-600 rounded-lg flex justify-between items-center shadow-md">
                            <span>Childline SA</span><span class="font-bold">116</span>
                            <a href="tel:116" class="call-btn px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors">Call</a>
                        </li>
                    </ul>
                </div>

                <div id="date-dashboard" class="hidden dashboard w-full flex-grow p-4">
                    <h2 class="text-2xl font-bold mb-4">Date Safety Feature</h2>
                    <p class="mb-4">Set a timer for your date. We'll check in with you later.</p>
                    <form id="date-form" class="space-y-4">
                        <input type="text" id="date-name" placeholder="Person's Name" class="w-full p-3 rounded-lg bg-gray-300 dark:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-emerald-500">
                        <input type="text" id="date-location" placeholder="Meeting Location" class="w-full p-3 rounded-lg bg-gray-300 dark:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-emerald-500">
                        <input type="number" id="date-timer" placeholder="Timer (minutes)" class="w-full p-3 rounded-lg bg-gray-300 dark:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-emerald-500">
                        <button type="submit" class="w-full px-6 py-3 bg-emerald-500 text-white rounded-xl hover:bg-emerald-600 transition-colors">Start Timer</button>
                    </form>
                    <div id="timer-status" class="mt-4 text-lg font-semibold text-center"></div>
                </div>

                <div id="journal-dashboard" class="hidden dashboard w-full flex-grow p-4">
                    <h2 class="text-2xl font-bold mb-4">Private Journal</h2>
                    <p id="user-id-journal" class="text-sm font-mono mb-4">Your Journal ID: demo-user-123</p>
                    <textarea id="journal-entry" class="w-full h-48 p-3 rounded-lg bg-gray-300 dark:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-emerald-500" placeholder="Write down your thoughts and experiences here..."></textarea>
                    <button id="save-journal-btn" class="w-full px-6 py-3 mt-4 bg-emerald-500 text-white rounded-xl hover:bg-emerald-600 transition-colors">Save Entry</button>
                    <div id="journal-entries" class="mt-8 space-y-4 text-left"></div>
                </div>

                <div id="sasl-dashboard" class="hidden dashboard w-full flex-grow p-4">
                    <h2 class="text-2xl font-bold mb-4">Sign Language & Emoji Key</h2>
                    <p class="mb-4">Communicate non-verbally with these symbols.</p>
                    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4">
                        <div class="text-center p-4 bg-gray-200 dark:bg-gray-600 rounded-lg shadow-md">
                            <span class="text-4xl">🚨</span>
                            <p class="mt-2 font-semibold">"I need the police."</p>
                        </div>
                        <div class="text-center p-4 bg-gray-200 dark:bg-gray-600 rounded-lg shadow-md">
                            <span class="text-4xl">🚑</span>
                            <p class="mt-2 font-semibold">"I need medical help."</p>
                        </div>
                        <div class="text-center p-4 bg-gray-200 dark:bg-gray-600 rounded-lg shadow-md">
                            <span class="text-4xl">🆘</span>
                            <p class="mt-2 font-semibold">"I am in danger."</p>
                        </div>
                        <div class="text-center p-4 bg-gray-200 dark:bg-gray-600 rounded-lg shadow-md">
                            <span class="text-4xl">🏃</span>
                            <p class="mt-2 font-semibold">"I need to leave now."</p>
                        </div>
                    </div>
                    <div class="mt-8">
                        <h3 class="text-xl font-semibold mb-2">South African Sign Language (SASL)</h3>
                        <p class="text-sm">Mock GIFs showing basic signs.</p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                            <div class="p-4 bg-gray-200 dark:bg-gray-600 rounded-lg shadow-md">
                                <img src="https://placehold.co/300x200/52525b/FFFFFF?text=Help+Sign" alt="Sign for 'Help'" class="w-full h-auto rounded-lg">
                                <p class="mt-2 font-semibold text-center">Help</p>
                            </div>
                            <div class="p-4 bg-gray-200 dark:bg-gray-600 rounded-lg shadow-md">
                                <img src="https://placehold.co/300x200/52525b/FFFFFF?text=Police+Sign" alt="Sign for 'Police'" class="w-full h-auto rounded-lg">
                                <p class="mt-2 font-semibold text-center">Police</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="profile-dashboard" class="hidden dashboard w-full flex-grow p-4">
                    <h2 class="text-2xl font-bold mb-4">My Information</h2>
                    <p id="user-id-profile" class="text-sm font-mono mb-4">Your Profile ID: demo-user-123</p>
                    <form id="profile-form" class="space-y-4">
                        <input type="text" id="profile-name" placeholder="Full Name" class="w-full p-3 rounded-lg bg-gray-300 dark:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-emerald-500">
                        <input type="number" id="profile-age" placeholder="Age" class="w-full p-3 rounded-lg bg-gray-300 dark:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-emerald-500">
                        <input type="text" id="profile-address" placeholder="Address" class="w-full p-3 rounded-lg bg-gray-300 dark:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-emerald-500">
                        <input type="text" id="profile-allergies" placeholder="Known Allergies" class="w-full p-3 rounded-lg bg-gray-300 dark:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-emerald-500">
                        <input type="text" id="profile-blood-type" placeholder="Blood Type" class="w-full p-3 rounded-lg bg-gray-300 dark:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-emerald-500">
                        <button type="submit" class="w-full px-6 py-3 bg-emerald-500 text-white rounded-xl hover:bg-emerald-600 transition-colors">Save Profile</button>
                    </form>
                </div>

            </main>
        </div>
    </div>

    <!-- Modal for SOS confirmation and message -->
    <div id="modal-container" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white dark:bg-gray-800 p-8 rounded-xl shadow-2xl max-w-lg w-full text-center">
            <h2 id="modal-title" class="text-2xl font-bold mb-4"></h2>
            <p id="modal-message" class="mb-6"></p>
            <div id="modal-buttons" class="flex justify-center space-x-4"></div>
        </div>
    </div>

    <!-- Load JavaScript -->
    <script src="script.js"></script>
</body>
</html>

